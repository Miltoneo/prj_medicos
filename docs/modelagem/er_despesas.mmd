erDiagram

    EMPRESA ||--o{ DESPESA : possui
    EMPRESA ||--o{ MEIO_PAGAMENTO : possui
    EMPRESA ||--o{ APLICACAO_FINANCEIRA : possui
    EMPRESA ||--o{ SOCIO : possui
    EMPRESA ||--o{ NOTA_FISCAL : emite
    EMPRESA ||--o{ ALIQUOTAS : possui
    EMPRESA ||--o{ GRUPO_DESPESA : possui
    GRUPO_DESPESA ||--o{ ITEM_DESPESA : possui
    ITEM_DESPESA ||--o{ DESPESA : classifica
    ITEM_DESPESA ||--o{ ITEM_DESPESA_RATEIO_MENSAL : rateado_em
    SOCIO ||--o{ ITEM_DESPESA_RATEIO_MENSAL : participa
    SOCIO ||--o{ DESPESA : responsavel
    SOCIO ||--o{ FINANCEIRO : movimenta
    PESSOA ||--o{ SOCIO : representa

    GRUPO_DESPESA {
        int id PK
        string codigo
        string descricao
        int tipo_rateio
        datetime created_at
        datetime updated_at
        int created_by FK
    }
    ITEM_DESPESA {
        int id PK
        int grupo_despesa_id FK
        string codigo
        string descricao
        datetime created_at
        datetime updated_at
        int created_by FK
    }
    ITEM_DESPESA_RATEIO_MENSAL {
        int id PK
        int item_despesa_id FK
        int socio_id FK
        date mes_ano_referencia
        decimal percentual_rateio
        bool ativo
        datetime created_at
        datetime updated_at
        int created_by FK
        text observacoes
    }
    DESPESA {
        int id PK
        int item_despesa_id FK
        int empresa_id FK
        int socio_id FK
        date data
        decimal valor
        datetime created_at
        datetime updated_at
        int created_by FK
        bool possui_rateio
    }
    SOCIO {
        int id PK
        int conta_id FK
        int empresa_id FK
        int pessoa_id FK
        bool ativo
        date data_entrada
        date data_saida
        text observacoes
    }
    EMPRESA {
        int id PK
        int conta_id FK
        string name
        string nome_fantasia
        string cnpj
        string inscricao_estadual
        string inscricao_municipal
        string telefone
        string email
        string site
        string endereco
        string numero
        string complemento
        string bairro
        string cidade
        string estado
        string cep
        int regime_tributario
        decimal receita_bruta_ano_anterior
        date data_ultima_alteracao_regime
        string periodicidade_irpj_csll
        int dia_vencimento_iss
        bool ativo
        datetime created_at
        datetime updated_at
    }
    MEIO_PAGAMENTO {
        int id PK
        int empresa_id FK
        string codigo
        string nome
        bool ativo
        datetime created_at
        datetime updated_at
        int created_by FK
        text observacoes
    }
    APLICACAO_FINANCEIRA {
        int id PK
        int empresa_id FK
        date data_referencia
        decimal saldo
        decimal ir_cobrado
        string descricao
        datetime created_at
        datetime updated_at
        int created_by FK
    }
    PESSOA {
        int id PK
        int conta_id FK
        int user_id FK
        string name
        string cpf
        string rg
        date data_nascimento
        string telefone
        string celular
        string email
        string endereco
        string numero
        string complemento
        string bairro
        string cidade
        string estado
        string cep
        string crm
        string especialidade
        bool ativo
        datetime created_at
        datetime updated_at
    }
    FINANCEIRO {
        int id PK
        int socio_id FK
        int descricao_movimentacao_financeira_id FK
        int nota_fiscal_id FK
        date data_movimentacao
        decimal valor
        datetime created_at
        datetime updated_at
        int created_by FK
    }
    DESCRICAO_MOVIMENTACAO_FINANCEIRA {
        int id PK
        int empresa_id FK
        string descricao
        string codigo_contabil
        datetime created_at
        datetime updated_at
        int created_by FK
        text observacoes
    }
    ALIQUOTAS {
        int id PK
        int empresa_id FK
        decimal ISS
        decimal PIS
        decimal COFINS
        decimal IRPJ_BASE_CAL
        decimal IRPJ_ALIQUOTA_OUTROS
        decimal IRPJ_ALIQUOTA_CONSULTA
        decimal IRPJ_VALOR_BASE_INICIAR_CAL_ADICIONAL
        decimal IRPJ_ADICIONAL
        decimal CSLL_BASE_CAL
        decimal CSLL_ALIQUOTA_OUTROS
        decimal CSLL_ALIQUOTA_CONSULTA
        bool ativa
        date data_vigencia_inicio
        date data_vigencia_fim
        datetime created_at
        datetime updated_at
        int created_by FK
        text observacoes
    }
    NOTA_FISCAL {
        int id PK
        int empresa_destinataria_id FK
        string numero
        string serie
        date dtEmissao
        decimal val_bruto
    }
